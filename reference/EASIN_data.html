<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process EASIN data for the IASDT — EASIN_data • IASDT.R</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process EASIN data for the IASDT — EASIN_data"><meta name="description" content="Extracts, processes, and visualises data from the European Alien Species Information Network (EASIN) for the
Invasive Alien Species Digital Twin (IASDT). Manages taxonomy, occurrence
data, and plots, handling API pagination and server limits. Orchestrated by
EASIN_process() with helpers EASIN_taxonomy(), EASIN_download(), and
EASIN_plot()."><meta property="og:description" content="Extracts, processes, and visualises data from the European Alien Species Information Network (EASIN) for the
Invasive Alien Species Digital Twin (IASDT). Manages taxonomy, occurrence
data, and plots, handling API pagination and server limits. Orchestrated by
EASIN_process() with helpers EASIN_taxonomy(), EASIN_download(), and
EASIN_plot()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IASDT.R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.05</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-modelling-workflow" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Modelling workflow</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-modelling-workflow"><li><a class="dropdown-item" href="../articles/workflow_1_overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_2_abiotic_data.html">Processing abiotic data</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_3_biotic_data.html">Processing biotic data</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_4_model_fitting.html">Model fitting</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_5_model_postprocess.html">Model post-processing</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BioDT/IASDT.R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Process EASIN data for the <code>IASDT</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/BioDT/IASDT.R/blob/main/R/DWF_EASIN_process.R" class="external-link"><code>R/DWF_EASIN_process.R</code></a>, <a href="https://github.com/BioDT/IASDT.R/blob/main/R/DWF_EASIN_taxonomy.R" class="external-link"><code>R/DWF_EASIN_taxonomy.R</code></a>, <a href="https://github.com/BioDT/IASDT.R/blob/main/R/DWF_EASIN_download.R" class="external-link"><code>R/DWF_EASIN_download.R</code></a>, and 1 more</small>
      <div class="d-none name"><code>EASIN_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracts, processes, and visualises data from the <a href="https://easin.jrc.ec.europa.eu/" class="external-link">European Alien Species Information Network (EASIN)</a> for the
Invasive Alien Species Digital Twin (<code>IASDT</code>). Manages taxonomy, occurrence
data, and plots, handling API pagination and server limits. Orchestrated by
<code>EASIN_process()</code> with helpers <code>EASIN_taxonomy()</code>, <code>EASIN_download()</code>, and
<code>EASIN_plot()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">EASIN_process</span><span class="op">(</span></span>
<span>  extract_taxa <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  extract_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_download_attempts <span class="op">=</span> <span class="fl">10L</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">6L</span>,</span>
<span>  strategy <span class="op">=</span> <span class="st">"multicore"</span>,</span>
<span>  sleep_time <span class="op">=</span> <span class="fl">10L</span>,</span>
<span>  n_search <span class="op">=</span> <span class="fl">1000L</span>,</span>
<span>  env_file <span class="op">=</span> <span class="st">".env"</span>,</span>
<span>  delete_chunks <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  start_year <span class="op">=</span> <span class="fl">1981L</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">EASIN_taxonomy</span><span class="op">(</span></span>
<span>  env_file <span class="op">=</span> <span class="st">".env"</span>,</span>
<span>  kingdom <span class="op">=</span> <span class="st">"Plantae"</span>,</span>
<span>  phylum <span class="op">=</span> <span class="st">"Tracheophyta"</span>,</span>
<span>  n_search <span class="op">=</span> <span class="fl">100</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">EASIN_download</span><span class="op">(</span></span>
<span>  <span class="va">species_key</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  env_file <span class="op">=</span> <span class="st">".env"</span>,</span>
<span>  n_search <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_attempts <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  sleep_time <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  delete_chunks <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  return_data <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">EASIN_plot</span><span class="op">(</span>env_file <span class="op">=</span> <span class="st">".env"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-extract-taxa">extract_taxa<a class="anchor" aria-label="anchor" href="#arg-extract-taxa"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, extracts taxonomy using
<code>EASIN_taxonomy()</code>. Default: <code>TRUE</code>.</p></dd>


<dt id="arg-extract-data">extract_data<a class="anchor" aria-label="anchor" href="#arg-extract-data"></a></dt>
<dd><p>Logical.If <code>TRUE</code>, downloads occurrence data with
<code>EASIN_download()</code>. Default: <code>TRUE</code>.</p></dd>


<dt id="arg-n-download-attempts">n_download_attempts<a class="anchor" aria-label="anchor" href="#arg-n-download-attempts"></a></dt>
<dd><p>Integer. Retry attempts for downloads. Default:
<code>10</code>.</p></dd>


<dt id="arg-n-cores">n_cores<a class="anchor" aria-label="anchor" href="#arg-n-cores"></a></dt>
<dd><p>Integer. Number of CPU cores to use for parallel processing.
Default: 6. The maximum number of allowed cores are 8.</p></dd>


<dt id="arg-strategy">strategy<a class="anchor" aria-label="anchor" href="#arg-strategy"></a></dt>
<dd><p>Character. The parallel processing strategy to use. Valid
options are "sequential", "multisession", "multicore", and "cluster".
Defaults to <code>"multicore"</code> (<code>"multisession"</code> on Windows). See
<code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code> and <code><a href="https://elgabbas.github.io/ecokit/reference/set_parallel.html" class="external-link">ecokit::set_parallel()</a></code> for details.</p></dd>


<dt id="arg-sleep-time">sleep_time<a class="anchor" aria-label="anchor" href="#arg-sleep-time"></a></dt>
<dd><p>Integer. Number of seconds to pause between each data
retrieval request to prevent overloading the server. Default: 5 second.</p></dd>


<dt id="arg-n-search">n_search<a class="anchor" aria-label="anchor" href="#arg-n-search"></a></dt>
<dd><p>Integer. Number of records to attempt to retrieve per
request. Default: 1000, which is the current maximum allowed by the API.</p></dd>


<dt id="arg-env-file">env_file<a class="anchor" aria-label="anchor" href="#arg-env-file"></a></dt>
<dd><p>Character. Path to the environment file containing paths to
data sources. Defaults to <code>.env</code>.</p></dd>


<dt id="arg-delete-chunks">delete_chunks<a class="anchor" aria-label="anchor" href="#arg-delete-chunks"></a></dt>
<dd><p>Logical. Whether to delete temporary files for data
chunks from the <code>FileParts</code> subdirectory. Defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-start-year">start_year<a class="anchor" aria-label="anchor" href="#arg-start-year"></a></dt>
<dd><p>Integer. Earliest year for occurrence data (excludes
earlier records). Default: <code>1981</code> (aligned with CHELSA climate data).</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, generates plots via <code>EASIN_plot()</code>. Default:
<code>TRUE</code>.</p></dd>


<dt id="arg-kingdom">kingdom<a class="anchor" aria-label="anchor" href="#arg-kingdom"></a></dt>
<dd><p>Character. Taxonomic kingdom to query. Default: <code>"Plantae"</code>.</p></dd>


<dt id="arg-phylum">phylum<a class="anchor" aria-label="anchor" href="#arg-phylum"></a></dt>
<dd><p>Character. Taxonomic phylum within kingdom. Default:
<code>"Tracheophyta"</code></p></dd>


<dt id="arg-species-key">species_key<a class="anchor" aria-label="anchor" href="#arg-species-key"></a></dt>
<dd><p>Character. EASIN taxon ID for which data is to be
retrieved. This parameter cannot be <code>NULL</code>.</p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p>Integer. Download timeout in seconds. Default: <code>200</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, prints progress messages. Default:
<code>FALSE</code>.</p></dd>


<dt id="arg-n-attempts">n_attempts<a class="anchor" aria-label="anchor" href="#arg-n-attempts"></a></dt>
<dd><p>Integer. Max download attempts per chunk. Default: <code>10</code>.</p></dd>


<dt id="arg-return-data">return_data<a class="anchor" aria-label="anchor" href="#arg-return-data"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, returns data as a dataframe;
otherwise, saves to disk and returns <code>invisible(NULL)</code>. Default: <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Uses a static RDS file with EASIN-GBIF taxonomic standardization,
prepared by Marina Golivets (Feb 2024).</p>
    </div>
    <div class="section level2">
    <h2 id="functions-details">Functions details<a class="anchor" aria-label="anchor" href="#functions-details"></a></h2>


<ul><li><p><strong><code>EASIN_process()</code></strong>: Orchestrates taxonomy extraction, data downloads,
and plotting for EASIN species data.</p></li>
<li><p><strong><code>EASIN_taxonomy()</code></strong>: Fetches taxonomy data in chunks via the EASIN API,
filtered by kingdom and phylum. Returns a tibble.</p></li>
<li><p><strong><code>EASIN_download()</code></strong>: Downloads occurrence data for a given EASIN ID,
handling pagination and pauses. Returns a dataframe if <code>return_data = TRUE</code>, else <code>invisible(NULL)</code>.</p></li>
<li><p><strong><code>EASIN_plot()</code></strong>: Creates summary plots (observations count, species
count, distribution by partner) as JPEGs. Returns <code>invisible(NULL)</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ahmed El-Gabbas</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://elgabbas.netlify.app/" class="external-link">Ahmed El-Gabbas</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

