<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Merge model chains into Hmsc and coda objects — mod_merge_chains • IASDT.R</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge model chains into Hmsc and coda objects — mod_merge_chains"><meta name="description" content="These functions merge posterior chains from multiple runs of Hmsc models
into unified Hmsc and coda objects, facilitating further analysis. They
check for missing or incomplete chains, optionally report these issues, and
save the processed results to disk. mod_merge_chains handles regular
models, while mod_merge_chains_CV is designed for cross-validated models."><meta property="og:description" content="These functions merge posterior chains from multiple runs of Hmsc models
into unified Hmsc and coda objects, facilitating further analysis. They
check for missing or incomplete chains, optionally report these issues, and
save the processed results to disk. mod_merge_chains handles regular
models, while mod_merge_chains_CV is designed for cross-validated models."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IASDT.R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.05</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-modelling-workflow" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Modelling workflow</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-modelling-workflow"><li><a class="dropdown-item" href="../articles/workflow_1_overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_2_abiotic_data.html">Processing abiotic data</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_3_biotic_data.html">Processing biotic data</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_4_model_fitting.html">Model fitting</a></li>
    <li><a class="dropdown-item" href="../articles/workflow_5_model_postprocess.html">Model post-processing</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BioDT/IASDT.R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Merge model chains into <code>Hmsc</code> and <code>coda</code> objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/BioDT/IASDT.R/blob/main/R/mod_merge_chains.R" class="external-link"><code>R/mod_merge_chains.R</code></a></small>
      <div class="d-none name"><code>Mod_Merge_Chains.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions merge posterior chains from multiple runs of <code>Hmsc</code> models
into unified <code>Hmsc</code> and <code>coda</code> objects, facilitating further analysis. They
check for missing or incomplete chains, optionally report these issues, and
save the processed results to disk. <code>mod_merge_chains</code> handles regular
models, while <code>mod_merge_chains_CV</code> is designed for cross-validated models.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mod_merge_chains</span><span class="op">(</span></span>
<span>  model_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">8L</span>,</span>
<span>  strategy <span class="op">=</span> <span class="st">"future::multicore"</span>,</span>
<span>  model_info_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print_incomplete <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  from_JSON <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  out_extension <span class="op">=</span> <span class="st">"qs2"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mod_merge_chains_CV</span><span class="op">(</span></span>
<span>  model_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">8L</span>,</span>
<span>  strategy <span class="op">=</span> <span class="st">"future::multicore"</span>,</span>
<span>  CV_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CV_Dist"</span>, <span class="st">"CV_Large"</span><span class="op">)</span>,</span>
<span>  from_JSON <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  out_extension <span class="op">=</span> <span class="st">"qs2"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-dir">model_dir<a class="anchor" aria-label="anchor" href="#arg-model-dir"></a></dt>
<dd><p>Character. Path to the root directory where the model was
fitted. For <code>mod_merge_chains</code>, subdirectories <code>Model_Fitted</code> and
<code>Model_Coda</code> are created within this path to store the merged <code>Hmsc</code> and
<code>coda</code> objects, respectively. For <code>mod_merge_chains_CV</code>, merged objects are
stored under <code>Model_Fitting_CV/Model_Fitted</code>.</p></dd>


<dt id="arg-n-cores">n_cores<a class="anchor" aria-label="anchor" href="#arg-n-cores"></a></dt>
<dd><p>Integer. Number of CPU cores to use for parallel processing.
Defaults to 8L.</p></dd>


<dt id="arg-strategy">strategy<a class="anchor" aria-label="anchor" href="#arg-strategy"></a></dt>
<dd><p>Character. The parallel processing strategy to use. Valid
options are "future::sequential", "future::multisession",
"future::multicore", and "future::cluster". Defaults to
<code>"future::multicore"</code> (<code>"future::multisession"</code> on Windows). See
<code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code> and <code><a href="https://elgabbas.github.io/ecokit/reference/set_parallel.html" class="external-link">ecokit::set_parallel()</a></code> for details.</p></dd>


<dt id="arg-model-info-name">model_info_name<a class="anchor" aria-label="anchor" href="#arg-model-info-name"></a></dt>
<dd><p>Character. Name of the file (without extension) where
updated model information is saved. If <code>NULL</code>, overwrites the existing
<code>Model_Info.RData</code> file in <code>model_dir</code> directory. If specified, creates a
new <code>.RData</code> file with this name in <code>model_dir</code> directory. Applies only to
<code>mod_merge_chains</code>.</p></dd>


<dt id="arg-print-incomplete">print_incomplete<a class="anchor" aria-label="anchor" href="#arg-print-incomplete"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, prints the names of model
variants that failed to merge due to missing or incomplete chains. Defaults
to <code>TRUE</code>.</p></dd>


<dt id="arg-from-json">from_JSON<a class="anchor" aria-label="anchor" href="#arg-from-json"></a></dt>
<dd><p>Logical. Whether to convert loaded models from JSON format
before reading. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-out-extension">out_extension<a class="anchor" aria-label="anchor" href="#arg-out-extension"></a></dt>
<dd><p>Character. File extension (without dot) for output files
containing merged <code>Hmsc</code> and <code>coda</code> objects. Options are <code>qs2</code> (faster
read/write via the <code>qs2</code> package) or <code>RData</code> (standard R format). Defaults
to <code>qs2</code>.</p></dd>


<dt id="arg-cv-names">CV_names<a class="anchor" aria-label="anchor" href="#arg-cv-names"></a></dt>
<dd><p>Character vector. Names of cross-validation strategies to
merge, matching those used during model setup. Defaults to <code>c("CV_Dist", "CV_Large")</code>. The names should be one of <code>CV_Dist</code>, <code>CV_Large</code>, or
<code>CV_SAC</code>. Applies only to <code>mod_merge_chains_CV</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Both functions return <code>invisible(NULL)</code> and save processed model
information and merged objects to disk in the specified locations.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p><code>mod_merge_chains</code> merges posterior chains from multiple runs of an <code>Hmsc</code>
model fitted without cross-validation. It checks for missing or incomplete
chains, aligns posteriors (using <code>alignPost = TRUE</code>, falling back to <code>FALSE</code>
if alignment fails), and saves a merged <code>Hmsc</code> object and a <code>coda</code> object for
MCMC diagnostics. It also records fitting time and memory usage from progress
files.</p></li>
<li><p><code>mod_merge_chains_CV</code> performs a similar merging process for
cross-validated <code>Hmsc</code> models, processing each fold of the specified
<code>CV_names</code> separately. It saves merged <code>Hmsc</code> objects per fold but does not
generate <code>coda</code> objects.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ahmed El-Gabbas</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://elgabbas.netlify.app/" class="external-link">Ahmed El-Gabbas</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

