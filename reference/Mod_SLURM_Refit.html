<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare SLURM file for failed / Unfitted Models — Mod_SLURM_Refit • IASDT.R</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare SLURM file for failed / Unfitted Models — Mod_SLURM_Refit"><meta name="description" content="This function prepares SLURM files for models that have not been successfully
fitted yet. It generates command files for refitting and creates
corresponding SLURM batch files to execute these commands on a HPC
environment."><meta property="og:description" content="This function prepares SLURM files for models that have not been successfully
fitted yet. It generates command files for refitting and creates
corresponding SLURM batch files to execute these commands on a HPC
environment."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IASDT.R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.02</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BioDT/IASDT.R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prepare SLURM file for failed / Unfitted Models</h1>
      <small class="dont-index">Source: <a href="https://github.com/BioDT/IASDT.R/blob/main/R/Mod_SLURM_Refit.R" class="external-link"><code>R/Mod_SLURM_Refit.R</code></a></small>
      <div class="d-none name"><code>Mod_SLURM_Refit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function prepares SLURM files for models that have not been successfully
fitted yet. It generates command files for refitting and creates
corresponding SLURM batch files to execute these commands on a HPC
environment.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Mod_SLURM_Refit</span><span class="op">(</span></span>
<span>  ModelDir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  NumArrayJobs <span class="op">=</span> <span class="fl">210</span>,</span>
<span>  JobName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  MemPerCpu <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Partition <span class="op">=</span> <span class="st">"small-g"</span>,</span>
<span>  EnvFile <span class="op">=</span> <span class="st">".env"</span>,</span>
<span>  CatJobInfo <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ntasks <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  CpusPerTask <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  GpusPerNode <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  FromHPC <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  PrepSLURM <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Path_Hmsc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Refit_Prefix <span class="op">=</span> <span class="st">"Commands2Refit"</span>,</span>
<span>  SLURM_Prefix <span class="op">=</span> <span class="st">"Bash_Refit"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-modeldir">ModelDir<a class="anchor" aria-label="anchor" href="#arg-modeldir"></a></dt>
<dd><p>String. Path to the model files directory. Must not end
with a slash.</p></dd>


<dt id="arg-numarrayjobs">NumArrayJobs<a class="anchor" aria-label="anchor" href="#arg-numarrayjobs"></a></dt>
<dd><p>Integer specifying the maximum number of array jobs per
SLURM script. Default: 210. See <a href="https://docs.lumi-supercomputer.eu/runjobs/scheduled-jobs/partitions" class="external-link">LUMI documentation</a>
for more details.</p></dd>


<dt id="arg-jobname">JobName<a class="anchor" aria-label="anchor" href="#arg-jobname"></a></dt>
<dd><p>String. The name of the submitted job(s).</p></dd>


<dt id="arg-mempercpu">MemPerCpu<a class="anchor" aria-label="anchor" href="#arg-mempercpu"></a></dt>
<dd><p>String. Memory per CPU allocation for the SLURM job.
Example: <code>32G</code> for 32 gigabytes. Defaults to <code>NULL</code>. If not provided, the
function will throw an error.</p></dd>


<dt id="arg-time">Time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>String. Duration for which the job should run. Example:
<code>01:00:00</code> for one hour. If not provided, the function will throw an error.</p></dd>


<dt id="arg-partition">Partition<a class="anchor" aria-label="anchor" href="#arg-partition"></a></dt>
<dd><p>String. The name of the partition. Default: <code>small-g</code> for
running the array jobs on the GPU.</p></dd>


<dt id="arg-envfile">EnvFile<a class="anchor" aria-label="anchor" href="#arg-envfile"></a></dt>
<dd><p>String. Path to read the environment variables. Default value:
<code>.env</code>.</p></dd>


<dt id="arg-catjobinfo">CatJobInfo<a class="anchor" aria-label="anchor" href="#arg-catjobinfo"></a></dt>
<dd><p>Logical. Add bash lines to print information on the
submitted job. Default: <code>TRUE</code>.</p></dd>


<dt id="arg-ntasks">ntasks<a class="anchor" aria-label="anchor" href="#arg-ntasks"></a></dt>
<dd><p>Integer. The value for the <code>#SBATCH --ntasks=</code> SLURM argument.
Default: 1.</p></dd>


<dt id="arg-cpuspertask">CpusPerTask<a class="anchor" aria-label="anchor" href="#arg-cpuspertask"></a></dt>
<dd><p>Integer. The value for the <code>#SBATCH --cpus-per-task=</code>
SLURM argument. Default: 1.</p></dd>


<dt id="arg-gpuspernode">GpusPerNode<a class="anchor" aria-label="anchor" href="#arg-gpuspernode"></a></dt>
<dd><p>Integer. The value for the <code>#SBATCH --gpus-per-node=</code>
SLURM argument. Default: 1.</p></dd>


<dt id="arg-fromhpc">FromHPC<a class="anchor" aria-label="anchor" href="#arg-fromhpc"></a></dt>
<dd><p>Logical. Indicates if the operation is being performed from an
HPC environment. This adjusts file paths accordingly. Default: <code>TRUE</code>.</p></dd>


<dt id="arg-prepslurm">PrepSLURM<a class="anchor" aria-label="anchor" href="#arg-prepslurm"></a></dt>
<dd><p>Logical indicating whether to prepare SLURM command files.
If <code>TRUE</code> (default), the SLURM commands will be saved to disk using the
<a href="Mod_SLURM.html">Mod_SLURM</a> function.</p></dd>


<dt id="arg-path-hmsc">Path_Hmsc<a class="anchor" aria-label="anchor" href="#arg-path-hmsc"></a></dt>
<dd><p>String. Path for the Hmsc-HPC.</p></dd>


<dt id="arg-refit-prefix">Refit_Prefix<a class="anchor" aria-label="anchor" href="#arg-refit-prefix"></a></dt>
<dd><p>String. Prefix for the files that contain the commands to
refit the models.</p></dd>


<dt id="arg-slurm-prefix">SLURM_Prefix<a class="anchor" aria-label="anchor" href="#arg-slurm-prefix"></a></dt>
<dd><p>String. Prefix for the exported SLURM file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function does not return any value but creates command and SLURM
batch files for refitting models.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ahmed El-Gabbas</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://elgabbas.netlify.app/" class="external-link">Ahmed El-Gabbas</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

