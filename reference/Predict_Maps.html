<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Predict habitat suitability of Hmsc model across different climate options — Predict_Maps • IASDT.R</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predict habitat suitability of Hmsc model across different climate options — Predict_Maps"><meta name="description" content="This function generates prediction maps of Hmsc models for current and
future climate options. It also predicts an ensemble predictions for
different climate models. For each species and overall species richness, the
function exports three maps: mean, standard deviation (sd), and coefficient
of variation (cov). For future predictions, the function generates maps for
prediction anomaly (future - current). The function prepares data to be
uploaded to the OPeNDAP data server for
the use of the IAS-pDT Shiny App."><meta property="og:description" content="This function generates prediction maps of Hmsc models for current and
future climate options. It also predicts an ensemble predictions for
different climate models. For each species and overall species richness, the
function exports three maps: mean, standard deviation (sd), and coefficient
of variation (cov). For future predictions, the function generates maps for
prediction anomaly (future - current). The function prepares data to be
uploaded to the OPeNDAP data server for
the use of the IAS-pDT Shiny App."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IASDT.R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.02</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BioDT/IASDT.R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Predict habitat suitability of <code>Hmsc</code> model across different climate options</h1>
      <small class="dont-index">Source: <a href="https://github.com/BioDT/IASDT.R/blob/main/R/Mod_Predict_Maps.R" class="external-link"><code>R/Mod_Predict_Maps.R</code></a></small>
      <div class="d-none name"><code>Predict_Maps.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates prediction maps of <code>Hmsc</code> models for current and
future climate options. It also predicts an ensemble predictions for
different climate models. For each species and overall species richness, the
function exports three maps: mean, standard deviation (sd), and coefficient
of variation (cov). For future predictions, the function generates maps for
prediction anomaly (future - current). The function prepares data to be
uploaded to the <a href="http://opendap.biodt.eu/ias-pdt/" class="external-link">OPeNDAP</a> data server for
the use of the IAS-pDT <a href="https://app.biodt.eu/" class="external-link">Shiny App</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Predict_Maps</span><span class="op">(</span></span>
<span>  Path_Model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Hab_Abb <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  EnvFile <span class="op">=</span> <span class="st">".env"</span>,</span>
<span>  FromHPC <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  NCores <span class="op">=</span> <span class="fl">8L</span>,</span>
<span>  Pred_Clamp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Fix_Efforts <span class="op">=</span> <span class="st">"q90"</span>,</span>
<span>  Fix_Rivers <span class="op">=</span> <span class="st">"q90"</span>,</span>
<span>  Pred_NewSites <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  UseTF <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  TF_Environ <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TF_use_single <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  LF_NCores <span class="op">=</span> <span class="va">NCores</span>,</span>
<span>  LF_Check <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  LF_Temp_Cleanup <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  LF_Only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  LF_Commands_Only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Temp_Dir <span class="op">=</span> <span class="st">"TEMP_Pred"</span>,</span>
<span>  Temp_Cleanup <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  CC_Models <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GFDL-ESM4"</span>, <span class="st">"IPSL-CM6A-LR"</span>, <span class="st">"MPI-ESM1-2-HR"</span>, <span class="st">"MRI-ESM2-0"</span>,</span>
<span>    <span class="st">"UKESM1-0-LL"</span><span class="op">)</span>,</span>
<span>  CC_Scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ssp126"</span>, <span class="st">"ssp370"</span>, <span class="st">"ssp585"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path-model">Path_Model<a class="anchor" aria-label="anchor" href="#arg-path-model"></a></dt>
<dd><p>Character. Path to fitted <code>Hmsc</code> model object.</p></dd>


<dt id="arg-hab-abb">Hab_Abb<a class="anchor" aria-label="anchor" href="#arg-hab-abb"></a></dt>
<dd><p>Character. Habitat abbreviation indicating the specific
<a href="https://www.preslia.cz/article/pdf?id=11548" class="external-link">SynHab</a> habitat type for
which data will be prepared. Valid values are <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4a</code>,
<code>4b</code>, <code>10</code>, <code>12a</code>, <code>12b</code>. For more details, see <a href="https://doi.org/10.23855/preslia.2022.447" class="external-link">Pysek et al.</a>.</p></dd>


<dt id="arg-envfile">EnvFile<a class="anchor" aria-label="anchor" href="#arg-envfile"></a></dt>
<dd><p>Character. Path to the environment file containing paths to
data sources. Defaults to <code>.env</code>.</p></dd>


<dt id="arg-fromhpc">FromHPC<a class="anchor" aria-label="anchor" href="#arg-fromhpc"></a></dt>
<dd><p>Logical. Whether the processing is being done on an
High-Performance Computing (HPC) environment, to adjust file paths
accordingly. Default: <code>TRUE</code>.</p></dd>


<dt id="arg-ncores">NCores<a class="anchor" aria-label="anchor" href="#arg-ncores"></a></dt>
<dd><p>Integer. Number of CPU cores to use for parallel processing.
Default: 8.</p></dd>


<dt id="arg-pred-clamp">Pred_Clamp<a class="anchor" aria-label="anchor" href="#arg-pred-clamp"></a></dt>
<dd><p>Logical indicating whether to clamp the sampling efforts at
a single value. If <code>TRUE</code> (default), the <code>Fix_Efforts</code> argument must be
provided.</p></dd>


<dt id="arg-fix-efforts">Fix_Efforts<a class="anchor" aria-label="anchor" href="#arg-fix-efforts"></a></dt>
<dd><p>Numeric or character. If <code>Pred_Clamp = TRUE</code>, the sampling
efforts predictor with values U+02264 <code>Fix_Efforts</code> is fixed at
<code>Fix_Efforts</code> during predictions. If numeric, the value is directly used
(log<sub>10</sub> scale). If character, it can be one of <code>median</code>, <code>mean</code>,
<code>max</code>, or <code>q90</code> (90% Quantile). Using <code>max</code> can reflect extreme values
caused by rare, highly sampled locations (e.g., urban centers or popular
natural reserves). While using 90% quantile avoid such extreme grid cells
while still capturing areas with high sampling effort. This argument is
mandatory when <code>Pred_Clamp</code> is set to <code>TRUE</code>.</p></dd>


<dt id="arg-fix-rivers">Fix_Rivers<a class="anchor" aria-label="anchor" href="#arg-fix-rivers"></a></dt>
<dd><p>Numeric or character. Similar to <code>Fix_Efforts</code>, but for
fixing the length of rivers. If numeric, the value is directly used
(log<sub>10</sub> scale). If character, it can be one of <code>median</code>, <code>mean</code>,
<code>max</code>, <code>q90</code> (90% quantile). It can be also <code>NULL</code> for not fixing the river
length predictor. Defaults to <code>q90</code>.</p></dd>


<dt id="arg-pred-newsites">Pred_NewSites<a class="anchor" aria-label="anchor" href="#arg-pred-newsites"></a></dt>
<dd><p>Logical. Whether to predict habitat suitability at new
sites. Default: <code>TRUE</code>. Note: This parameter is temporary and will be
removed in future updates.</p></dd>


<dt id="arg-usetf">UseTF<a class="anchor" aria-label="anchor" href="#arg-usetf"></a></dt>
<dd><p>Logical. Whether to use TensorFlow for calculations. Defaults to
<code>TRUE</code>.</p></dd>


<dt id="arg-tf-environ">TF_Environ<a class="anchor" aria-label="anchor" href="#arg-tf-environ"></a></dt>
<dd><p>Character. Path to the Python environment. This argument is
required if <code>UseTF</code> is <code>TRUE</code>.</p></dd>


<dt id="arg-tf-use-single">TF_use_single<a class="anchor" aria-label="anchor" href="#arg-tf-use-single"></a></dt>
<dd><p>Logical. Whether to use single precision for the
TensorFlow calculations. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-lf-ncores">LF_NCores<a class="anchor" aria-label="anchor" href="#arg-lf-ncores"></a></dt>
<dd><p>Integer. Number of cores to use for parallel processing of
latent factor prediction. Defaults to 8L.</p></dd>


<dt id="arg-lf-check">LF_Check<a class="anchor" aria-label="anchor" href="#arg-lf-check"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the function checks if the output files
are already created and valid. If <code>FALSE</code>, the function will only check if
the files exist without checking their integrity. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-lf-temp-cleanup">LF_Temp_Cleanup<a class="anchor" aria-label="anchor" href="#arg-lf-temp-cleanup"></a></dt>
<dd><p>Logical. Whether to delete temporary files in the
<code>Temp_Dir</code> directory after finishing the LF predictions.</p></dd>


<dt id="arg-lf-only">LF_Only<a class="anchor" aria-label="anchor" href="#arg-lf-only"></a></dt>
<dd><p>Logical. Whether to predict only the latent factor. This is
useful for distributing processing load between GPU and CPU. When <code>LF_Only = TRUE</code>, latent factor prediction needs to be computed separately on GPU.
When computations are finished on GPU, the function can later be rerun with
<code>LF_Only = FALSE</code> (default) to predict habitat suitability using the
already-computed latent factor predictions.</p></dd>


<dt id="arg-lf-commands-only">LF_Commands_Only<a class="anchor" aria-label="anchor" href="#arg-lf-commands-only"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, returns the command to run the
Python script. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-temp-dir">Temp_Dir<a class="anchor" aria-label="anchor" href="#arg-temp-dir"></a></dt>
<dd><p>Character. Path for temporary storage of intermediate files.</p></dd>


<dt id="arg-temp-cleanup">Temp_Cleanup<a class="anchor" aria-label="anchor" href="#arg-temp-cleanup"></a></dt>
<dd><p>Logical. Whether to clean up temporary files.
Defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-cc-models">CC_Models<a class="anchor" aria-label="anchor" href="#arg-cc-models"></a></dt>
<dd><p>Character vector. Climate models for future predictions.
Available options are <code>c("GFDL-ESM4", "IPSL-CM6A-LR", "MPI-ESM1-2-HR", "MRI-ESM2-0", "UKESM1-0-LL")</code> (default).</p></dd>


<dt id="arg-cc-scenario">CC_Scenario<a class="anchor" aria-label="anchor" href="#arg-cc-scenario"></a></dt>
<dd><p>Character vector. Climate scenarios for future
predictions. Available options are: <code>c("ssp126", "ssp370", "ssp585")</code>
(default).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble containing the prediction summary and file paths for output
<code>*.tif</code> files.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ahmed El-Gabbas</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://elgabbas.netlify.app/" class="external-link">Ahmed El-Gabbas</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

